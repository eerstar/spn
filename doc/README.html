<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>单元测试库 - libnpunit</title>
<style>
* { font-family: "Microsoft YaHei",Arial,Helvetica,sans-serif,"SimSun"; }
body { margin: 8px; font-size: 14px }
h1, h2, h3, h4, h5, h6 { font-weight: bold; }
h1 { font-size: 20px; margin: 20px 0; }
h2 { font-size: 19px; margin: 30px 0 5px 0; }
h3 { font-size: 18px; margin: 25px 0 5px 0; }
h4 { font-size: 17px; margin: 20px 0 5px 0; }
h5 { font-size: 16px; margin: 18px 0 5px 0; }
h6 { font-size: 15px; margin: 16px 0 5px 0; }
p { font-size: 14px; margin: 5px 0; text-indent: 2em; }
nav { font-size: 13px; border: 1px solid #666; background-color: #eee }
nav ul { margin: 0; padding: 10px; list-style-type: none; }
nav li.level_1 { margin-left: 0px; }
nav li.level_2 { margin-left: 10px; }
nav li.level_3 { margin-left: 20px; }
nav li.level_4 { margin-left: 30px; }
nav li.level_5 { margin-left: 40px; }
ul, ol, li { margin: 5px 0; font-size: 14px; }
table { font-size: 13px; border-collapse: collapse; margin: auto; }
table, th, td { border: 1px solid #666; }
th, td { padding: 2px 8px; }
th { background-color: #ddd; }
td { background-color: #fff; }
pre { background-color: #eee; border: 1px solid #666; margin: 10px 20px; padding: 10px; }
pre, code { font-family: "Consolas","Bitstream Vera Sans Mono","Courier New",Courier,monospace; }
pre, code { font-size: 13px; text-indent: 0 }
code { margin: 0; padding: 0; }
</style>
</head>
<body>
<article>
<section>
<h1><a name="">单元测试库 - libnpunit</a></h1>
<section>
  <nav class="toc">
    <ul>
	        <li class="level_1"><a href="#1">1 基本用法：</a></li>
	</ul>
  </nav>
</section>

<p>本类库主要用于做实现自动化单元测试。</p>
<h2><a name="1">1 基本用法：</a></h2>
<p>新建（一个或多个）cpp文件，基本形式如下：</p>
<p></p><pre><code>#include "UnitTest.h"

void do_sth_with_except() { throw 1; }
void do_sth_without_except() { }

UNIT_TEST(Pkg, Name)
{
    UNIT_ASSERT(sizeof(short int) == 2);                // 布尔断言
    UNIT_ASSERT_EQUAL(sizeof(short int), 2);            // 相等断言
    UNIT_ASSERT_EXCEPTION(do_sth_with_except());        // 有异常断言
    UNIT_ASSERT_NO_EXCEPTION(do_sth_without_except());  // 无异常断言
}</code></pre><p></p>
<p>编译并链接<code>libnpunit.a</code>即可，所生成的可执行文件（假设为<code>unittest</code>），直接运行即可：</p>
<p></p><pre><code>$ ./unittest  # 运行所有测试</code></pre><p></p>
<p>或者可以跟参数运行：</p>
<p></p><pre><code>$ ./unittest Pkg         # 运行一组测试
$ ./unittest Pkg::Name   # 运行单个测试</code></pre><p></p>
</section>
</article>
</body>
</html>
